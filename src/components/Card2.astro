---
const { title, pubDate, imageUrl, description, readMoreLink } = Astro.props;
const tags: Array<string> = Astro.props.tags;
---

<li class="cardList-card has-darkBackground">
  <h3 class="cardList-cardHeading mx0-5">{title}</h3>
  <p class="cardList-cardDate mx0-5 my0-5">Published: {pubDate}</p>
  <div class="cardList-cardImageContainer">
    <img src={imageUrl} class="cardList-cardImage" />
  </div>
  <!-- <p> Image placeholder</p> -->
  <p class="cardList-cardDescription mx0-5">
    {description}
  </p>
  <p class="cardList-tagList">
    {tags && tags.map((tag) => <span class="cardList-tag px0-5">{tag}</span>)}
  </p>
  <a class="cardList-cardLink mx0-5 my0-5" href={readMoreLink}>Read more</a>
</li>

<style>
  .cardList-card {
    display: grid;
    grid-template-rows: max-content max-content max-content 1fr max-content;
    grid-template-areas:
      "cardHeading"
      "cardDate"
      "cardDescription"
      "cardTagList"
      "cardLink";

    list-style-type: none;

    border: 1px solid var(--color-border);
    border-radius: 0.5rem;
    box-shadow: 8px 8px 12px 0px var(--color-border);
  }

  .cardList-cardDate {
    grid-area: cardDate;
    font-size: 0.8rem;
  }

  .cardList-cardDescription {
    grid-area: cardDescription;
  }

  .cardList-cardHeading {
    grid-area: cardHeading;
  }

  .cardList-cardImageContainer {
    grid-area: cardImage;
    padding-top: 0.5rem;
  }

  .cardList-cardImage {
    object-fit: cover;
    width: 100%;
    height: 100%;
  }

  .cardList-cardLink {
    grid-area: cardLink;
    margin-top: auto;
  }

  .cardList-tagList {
    grid-area: cardTagList;
    display: flex;
    flex-wrap: wrap;
    align-items: flex-end;
    gap: 0.5rem;
    padding-left: 8px;
    flex-basis: 40px;
  }

  .cardList-tag {
    border: 2px solid #ac8c91;
    border-radius: 1rem;
    background-color: #ac8c91;
    color: white;
    display:flex;
    align-items: center;
    justify-content: center;
  }
</style>
